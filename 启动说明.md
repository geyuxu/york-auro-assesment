# Cartographer çŠ¶æ€ä¿å­˜å’ŒåŠ è½½ - å¯åŠ¨è¯´æ˜

## âš ï¸  é‡è¦ï¼šä½¿ç”¨å‰å¿…è¯»

### é—®é¢˜ï¼šæ‰¾ä¸åˆ° assessment åŒ…

å¦‚æœçœ‹åˆ°é”™è¯¯ï¼š
```
Package 'assessment' not found
```

**åŸå› **ï¼šç»ˆç«¯æ²¡æœ‰ source AURO2025 å·¥ä½œç©ºé—´

**è§£å†³**ï¼šåœ¨è¿è¡Œè„šæœ¬å‰ï¼Œ**å¿…é¡»å…ˆ** source ç¯å¢ƒ

---

## âœ… æ­£ç¡®çš„å¯åŠ¨æµç¨‹

### ä¿å­˜ Cartographer çŠ¶æ€

```bash
# æ­¥éª¤ 1ï¼šè¿›å…¥å·¥ä½œç©ºé—´å¹¶ source ç¯å¢ƒ
cd /workspaces/AURO2025
source install/setup.bash

# æ­¥éª¤ 2ï¼šè¿è¡Œä¿å­˜è„šæœ¬
bash ä¿å­˜CartographerçŠ¶æ€.sh robot1 ä½ çš„åœ°å›¾åç§°
```

---

### åŠ è½½ Cartographer çŠ¶æ€

```bash
# æ­¥éª¤ 1ï¼šè¿›å…¥å·¥ä½œç©ºé—´å¹¶ source ç¯å¢ƒï¼ˆé‡è¦ï¼ï¼‰
cd /workspaces/AURO2025
source install/setup.bash

# æ­¥éª¤ 2ï¼šè¿è¡ŒåŠ è½½è„šæœ¬
bash åŠ è½½CartographerçŠ¶æ€.sh
```

**åŠ è½½è„šæœ¬ç°åœ¨ä¼šè‡ªåŠ¨ source å·¥ä½œç©ºé—´ï¼Œä½†å»ºè®®æ‚¨è¿˜æ˜¯æ‰‹åŠ¨å…ˆ source ä¸€æ¬¡ã€‚**

---

## ğŸ“‹ å®Œæ•´çš„å¤šç»ˆç«¯å·¥ä½œæµç¨‹

### é¦–æ¬¡å»ºå›¾

**ç»ˆç«¯ 1 - ä»¿çœŸ**ï¼š
```bash
cd /workspaces/AURO2025
source install/setup.bash

ros2 launch assessment assessment.launch.py \
  num_robots:=1 use_nav2:=false headless:=false random_seed:=42
```

**ç»ˆç«¯ 2 - SLAM**ï¼š
```bash
cd /workspaces/AURO2025
source install/setup.bash

ros2 launch assessment cartographer.launch.py \
  ns:=robot1 use_sim_time:=true use_rviz:=true
```

**ç»ˆç«¯ 3 - LLM å»ºå›¾**ï¼š
```bash
cd /workspaces/AURO2025
source install/setup.bash

export OPENAI_API_KEY="sk-proj-ä½ çš„å¯†é’¥"
ros2 run solution llm_mapper --ros-args --remap __ns:=/robot1
```

**ç»ˆç«¯ 4 - ä¿å­˜çŠ¶æ€**ï¼ˆå»ºå›¾è¿›è¡Œä¸­ï¼‰ï¼š
```bash
cd /workspaces/AURO2025
source install/setup.bash

bash ä¿å­˜CartographerçŠ¶æ€.sh robot1 test1
```

---

### ç»§ç»­å»ºå›¾ï¼ˆä»ä¿å­˜çš„çŠ¶æ€ï¼‰

**ç»ˆç«¯ 1 - ä»¿çœŸ**ï¼ˆåŒé¦–æ¬¡å»ºå›¾ï¼‰ï¼š
```bash
cd /workspaces/AURO2025
source install/setup.bash

ros2 launch assessment assessment.launch.py \
  num_robots:=1 use_nav2:=false headless:=false random_seed:=42
```

**ç»ˆç«¯ 2 - åŠ è½½çŠ¶æ€**ï¼š
```bash
cd /workspaces/AURO2025
source install/setup.bash

bash åŠ è½½CartographerçŠ¶æ€.sh
# é€‰æ‹©è¦åŠ è½½çš„çŠ¶æ€
```

**ç»ˆç«¯ 3 - LLM å»ºå›¾**ï¼ˆåŒé¦–æ¬¡å»ºå›¾ï¼‰ï¼š
```bash
cd /workspaces/AURO2025
source install/setup.bash

export OPENAI_API_KEY="sk-proj-ä½ çš„å¯†é’¥"
ros2 run solution llm_mapper --ros-args --remap __ns:=/robot1
```

---

## ğŸ”‘ å…³é”®ç‚¹

1. **æ¯ä¸ªæ–°ç»ˆç«¯éƒ½è¦ source**ï¼š
   ```bash
   cd /workspaces/AURO2025
   source install/setup.bash
   ```

2. **é¡ºåºå¾ˆé‡è¦**ï¼š
   - å…ˆå¯åŠ¨ä»¿çœŸï¼ˆç»ˆç«¯ 1ï¼‰
   - å†å¯åŠ¨ SLAMï¼ˆç»ˆç«¯ 2 - é¦–æ¬¡å»ºå›¾ï¼‰æˆ–åŠ è½½çŠ¶æ€ï¼ˆç»ˆç«¯ 2 - ç»§ç»­å»ºå›¾ï¼‰
   - æœ€åå¯åŠ¨ LLM å»ºå›¾ï¼ˆç»ˆç«¯ 3ï¼‰
   - éšæ—¶ä¿å­˜ï¼ˆç»ˆç«¯ 4ï¼‰

3. **ROS2 daemon é—®é¢˜**ï¼š
   å¦‚æœé‡åˆ° `xmlrpc.client.Fault` é”™è¯¯ï¼š
   ```bash
   ros2 daemon stop
   ros2 daemon start
   ```

---

## ğŸ’¡ å¿«æ·æ–¹å¼ï¼šåˆ›å»ºåˆ«å

åœ¨ `~/.bashrc` ä¸­æ·»åŠ ï¼š

```bash
# AURO2025 å¿«æ·å‘½ä»¤
alias auro='cd /workspaces/AURO2025 && source install/setup.bash'
alias auro-save='cd /workspaces/AURO2025 && source install/setup.bash && bash ä¿å­˜CartographerçŠ¶æ€.sh'
alias auro-load='cd /workspaces/AURO2025 && source install/setup.bash && bash åŠ è½½CartographerçŠ¶æ€.sh'
```

é‡æ–°åŠ è½½ï¼š
```bash
source ~/.bashrc
```

ä¹‹åå¯ä»¥ç›´æ¥ä½¿ç”¨ï¼š
```bash
# è¿›å…¥å·¥ä½œç©ºé—´å¹¶ source
auro

# ä¿å­˜çŠ¶æ€
auro-save robot1 test1

# åŠ è½½çŠ¶æ€
auro-load
```

---

## ğŸ› å¸¸è§é”™è¯¯å’Œè§£å†³æ–¹æ³•

### é”™è¯¯ 1ï¼šPackage 'assessment' not found

**åŸå› **ï¼šæœª source å·¥ä½œç©ºé—´

**è§£å†³**ï¼š
```bash
cd /workspaces/AURO2025
source install/setup.bash
```

---

### é”™è¯¯ 2ï¼šxmlrpc.client.Fault: !rclpy.ok()

**åŸå› **ï¼šROS2 daemon é—®é¢˜

**è§£å†³**ï¼š
```bash
ros2 daemon stop
ros2 daemon start
```

æˆ–ä½¿ç”¨å¤‡ç”¨ä¿å­˜æ–¹æ³•ï¼š
```bash
bash ä¿å­˜CartographerçŠ¶æ€-å¤‡ç”¨æ–¹æ³•.sh robot1 test1
```

---

### é”™è¯¯ 3ï¼šCartographer write_state æœåŠ¡ä¸å¯ç”¨

**åŸå› **ï¼šCartographer æœªè¿è¡Œæˆ–å‘½åç©ºé—´ä¸åŒ¹é…

**æ£€æŸ¥**ï¼š
```bash
# åˆ—å‡ºæ‰€æœ‰æœåŠ¡
ros2 service list | grep write_state

# åº”è¯¥çœ‹åˆ°ç±»ä¼¼ï¼š
# /robot1/write_state
```

**è§£å†³**ï¼šç¡®ä¿ç»ˆç«¯ 2 çš„ Cartographer æ­£åœ¨è¿è¡Œ

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [Cartographerå»ºå›¾å¿«é€ŸæŒ‡å—.md](Cartographerå»ºå›¾å¿«é€ŸæŒ‡å—.md) - å¿«é€Ÿå‚è€ƒ
- [Cartographerå¢é‡å»ºå›¾æŒ‡å—.md](Cartographerå¢é‡å»ºå›¾æŒ‡å—.md) - è¯¦ç»†æ–‡æ¡£
- [ä½¿ç”¨ç¤ºä¾‹-ä¿å­˜å’ŒåŠ è½½CartographerçŠ¶æ€.md](ä½¿ç”¨ç¤ºä¾‹-ä¿å­˜å’ŒåŠ è½½CartographerçŠ¶æ€.md) - å®æˆ˜æ¼”ç¤º

---

**é‡è¦æé†’**ï¼š
- âœ… **æ¯ä¸ªæ–°ç»ˆç«¯éƒ½è¦ source ç¯å¢ƒ**
- âœ… **æŒ‰é¡ºåºå¯åŠ¨èŠ‚ç‚¹**
- âœ… **é‡åˆ° daemon é”™è¯¯å°±é‡å¯ daemon**

**æ–‡æ¡£ç‰ˆæœ¬**ï¼šv1.0
**æœ€åæ›´æ–°**ï¼š2025-12-30
